describe 'Top Rated Movies Page' do
  before do
    visit '/top_rated_movies'
  end

  it 'returns a status code of 200' do
    expect(page.status_code).to eq(200)
  end

  it 'displays 20 movies' do
    expect(page).to have_css('.movie', count: 20)
  end

  it 'has a link to the movie details page for each movie' do
    expect(page).to have_link('Title', count: 20)
  end

  it 'displays the vote average for each movie' do
    expect(page).to have_content('Vote Average', count: 20)
  end

  it 'has a "Discover Page" button' do
    expect(page).to have_button('Discover Page')
  end
end